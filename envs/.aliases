

# activate the base environment
wsbase_path=$HOME/.config/workspace/envs/base

. $wsbase_path/.aliases

function activate-mongo()
{
    if [ ! -d "$HOME/.config/workspace-mongo" ]; then
        #ask if you want to install it
        echo "MongoDB environment not found. Do you want to install it? [y/n]"
        read answer
        if [ "$answer" != "${answer#[Yy]}" ] ;then
            echo "Installing MongoDB environment..."
        else
            echo "MongoDB environment not installed."
            return
        fi
        git clone https://github.com/enricogolfieri/workspace-mongo.git $HOME/.config/workspace-mongo --branch v1.0-devel
        if [ ! -d "$HOME/.config/workspace/envs/mongo" ]; then
            ln -s $HOME/.config/workspace-mongo $HOME/.config/workspace/envs/mongo
        fi
    fi
    [[ -d $HOME/.config/workspace/envs/mongo ]] && . $HOME/.config/workspace/envs/mongo/.aliases && mongo-activate
}

function ws-update()
{
    _cd=$(pwd)
    cd $HOME/.config/workspace
    git pull
    cd $HOME/.config/workspace-mongo
    git pull
    cd $_cd
}



